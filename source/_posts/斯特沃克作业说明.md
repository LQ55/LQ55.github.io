

#### 一、说明：

本作业是在Windows 10+IDEA开发环境下开发的，采用javaScript语言进行编写

#### 二、作业构思与设计

程序需要实现迷宫的生成和连通，并在迷宫构建过程中实时报出异常的操作。采用面向对象的编程思想，将本题目进行抽象，得到如下的类

- Command：命令类（封装命令的基本格式）
- Maze：渲染网格类（封装构建好的迷宫，该类接收一个命令并提供渲染方法）
- Validator：验证器类（封装各类验证方法）
- Line：道路连通性连线类（封装连通性的连线）
- Point：连线端点类，也就是迷宫中的Cell（封装连通性的端点Cell）

在迷宫构建的过程中，想的是每个类各司其职，各做其事（单一职责原则）。程序中输入的合法性检查使用Validator类进行检查，而每个部分的检查都在自己的部分，比如，校验Command的输入格式是否合法，这个过程是在Command中进行。

#### 三、运行和测试

**1、运行**：

在IDEA中打开程序文件（或者直接找一个支持运行js代码的IDE也行），右键菜单选择“Run maze.js”选项便可以看到结果。

**2、测试**：

程序输入包括两行

- ​第一行是迷宫 道路网格 的尺寸。例如 3 x 3 的迷宫为 3 3，而 5 x 4 的迷宫为 5 4（5 行 4 列）。 

- ​第二行是迷宫 道路网格 的连通性定义。如果 cell(0,1) 和 cell(0,2) 是连通的，则表示为： 0,1 0,2，多个连通以分号 ; 隔开。 

（1）用例一：合法用例（3行3列）

输入：

```
3 3
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出：

```
[M] [M] [M] [M] [M] [M] [M] 
[M] [R] [M] [R] [R] [R] [M] 
[M] [R] [M] [R] [M] [R] [M] 
[M] [R] [R] [R] [R] [R] [M] 
[M] [M] [M] [R] [M] [R] [M] 
[M] [R] [R] [R] [M] [R] [M] 
[M] [M] [M] [M] [M] [M] [M] 
```

（2）用例二：合法用例（4行5列）

输入：

```
4 5
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出：

```
[M] [M] [M] [M] [M] [M] [M] [M] [M] [M] [M] 
[M] [R] [M] [R] [R] [R] [M] [R] [M] [R] [M] 
[M] [R] [M] [R] [M] [R] [M] [M] [M] [M] [M] 
[M] [R] [R] [R] [R] [R] [M] [R] [M] [R] [M] 
[M] [M] [M] [R] [M] [R] [M] [M] [M] [M] [M] 
[M] [R] [R] [R] [M] [R] [M] [R] [M] [R] [M] 
[M] [M] [M] [M] [M] [M] [M] [M] [M] [M] [M] 
[M] [R] [M] [R] [M] [R] [M] [R] [M] [R] [M] 
[M] [M] [M] [M] [M] [M] [M] [M] [M] [M] [M] 
[M] [R] [M] [R] [M] [R] [M] [R] [M] [R] [M] 
[M] [M] [M] [M] [M] [M] [M] [M] [M] [M] [M] 
```

（3）用例三：输入命令的格式不符合约定

输入：

```
3+3
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
或者
3 3
0：1 02;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出：

```
Incorrect command format.
```

（4）用例四：输入数字超出允许范围之外

输入：

```
-3 3
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
或者：
3 3
0,-1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出：

```
Number out of range.
```

（5）用例五：输入无效数字（拥有无效符号或者不是数字）

输入：

```
3 3@
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
或者
3 3
0,1@ 0,2$;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
或者
x 3
0,1 0,2;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出：

```
Invalid number format.
```

（6）用例六：连通性错误

输入：

```
3 3
0,1 0,1;0,0 1,0;0,1 1,1;0,2 1,2;1,0 1,1;1,1 1,2;1,1 2,1;1,2 2,2;2,0 2,1
```

输出

```
Maze format error.
```





